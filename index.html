<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Michelle and Andrew Time</title>
    </head>
    <style>
        body {
            font-family: sans-serif;
        }
    </style>

    <body>
        <h3>How Long since Andrew and Michelle...</h3>
        <h4>became exclusive:</h4>
        <p id="exclusive"></p>

        <script src="https://cdn.jsdelivr.net/npm/temporal-polyfill@0.2.5/global.min.js"></script>

        <script>
            function prettyPrintDuration(duration) {
                // Destructure the duration properties
                const { years, months, days, hours, minutes, seconds } = duration;

                const parts = [];
                parts.push(`${years} year${years !== 1 ? "s" : ""}`);
                parts.push(`${months} month${months !== 1 ? "s" : ""}`);
                parts.push(`${days} day${days !== 1 ? "s" : ""}`);
                parts.push(`${hours} hour${hours !== 1 ? "s" : ""}`);
                parts.push(`${minutes} minute${minutes !== 1 ? "s" : ""}`);
                parts.push(`${seconds} second${seconds !== 1 ? "s" : ""}`);

                return parts.length ? parts.join(", ") : "0 seconds";
            }

            const exclusive_start = Temporal.ZonedDateTime.from({
                timeZone: "America/Los_Angeles",
                year: 2023,
                month: 9,
                day: 29,
                hour: 0,
                minute: 0,
                second: 0,
            });

            function updateDuration() {
                const currentZonedDateTime = Temporal.Now.zonedDateTimeISO("America/Los_Angeles");
                const duration = currentZonedDateTime.since(exclusive_start, {
                    largestUnit: "year",
                });
                const exclusive_dom = document.querySelector("#exclusive");
                exclusive_dom.textContent = prettyPrintDuration(duration);
            }
            updateDuration();
            setInterval(updateDuration, 1000);
        </script>
    </body>
</html>
